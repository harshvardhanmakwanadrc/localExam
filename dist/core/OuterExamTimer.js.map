{"version":3,"file":"OuterExamTimer.js","names":["_react","_interopRequireWildcard","require","_reactRedux","_propTypes","_interopRequireDefault","_react2","_timer","_ExamAPIError","_data","_constants","_jsxRuntime","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ExamTimer","_ref","courseId","_useSelector","useSelector","state","specialExams","activeAttempt","apiErrorMsg","_useContext","useContext","AppContext","authenticatedUser","showTimer","IS_STARTED_STATUS","attempt_status","dispatch","useDispatch","useEffect","getLatestAttemptData","jsxs","className","children","jsx","ExamTimerBlock","propTypes","PropTypes","string","isRequired","OuterExamTimer","_ref2","_default","exports"],"sources":["../../src/core/OuterExamTimer.jsx"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport { ExamTimerBlock } from '../timer';\nimport ExamAPIError from '../exam/ExamAPIError';\nimport { getLatestAttemptData } from '../data';\nimport { IS_STARTED_STATUS } from '../constants';\n\nconst ExamTimer = ({ courseId }) => {\n  const { activeAttempt, apiErrorMsg } = useSelector(state => state.specialExams);\n  const { authenticatedUser } = useContext(AppContext);\n  const showTimer = !!(activeAttempt && IS_STARTED_STATUS(activeAttempt.attempt_status));\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getLatestAttemptData(courseId));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [courseId]);\n\n  // if user is not authenticated they cannot have active exam, so no need for timer\n  // (also exam API would return 403 error)\n  if (!authenticatedUser) {\n    return null;\n  }\n\n  return (\n    <div className=\"d-flex flex-column justify-content-center\">\n      {showTimer && (\n        <ExamTimerBlock />\n      )}\n      {apiErrorMsg && <ExamAPIError />}\n    </div>\n  );\n};\n\nExamTimer.propTypes = {\n  courseId: PropTypes.string.isRequired,\n};\n\n/**\n * OuterExamTimer is the component responsible for showing exam timer on non-sequence pages.\n * @param courseId - Id of a course that is checked for active exams, if there is one the timer\n * will be shown.\n */\nconst OuterExamTimer = ({ courseId }) => (\n  <ExamTimer courseId={courseId} />\n);\n\nOuterExamTimer.propTypes = {\n  courseId: PropTypes.string.isRequired,\n};\n\nexport default OuterExamTimer;\n"],"mappings":"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","ignoreList":[]}